function initModalParticles(e){particlesJS(e,{particles:{number:{value:80,density:{enable:!0,value_area:800}},color:{value:"#E8B4A0"},shape:{type:"circle"},opacity:{value:.5,random:!0},size:{value:3,random:!0},line_linked:{enable:!0,distance:150,color:"#E8B4A0",opacity:.35,width:1},move:{enable:!0,speed:1,direction:"none",random:!0,straight:!1,out_mode:"out",bounce:!1}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!1},onclick:{enable:!1},resize:!0}},retina_detect:!0})}document.addEventListener("DOMContentLoaded",()=>{const e={faq:document.getElementById("faqModal"),impressum:document.getElementById("impressumModal"),privacy:document.getElementById("privacyModal"),terms:document.getElementById("termsModal")},t={faq:document.getElementById("faqLink"),impressum:document.getElementById("legalLink"),privacy:document.getElementById("privacyLink"),terms:document.getElementById("termsLink")},n={faq:document.getElementById("faqLinkHero"),impressum:document.getElementById("legalLinkHero"),privacy:document.getElementById("privacyLinkHero"),terms:document.getElementById("termsLinkHero")};let o={faq:!1,impressum:!1,privacy:!1,terms:!1};const c=document.getElementById("contactBtn"),a=document.getElementById("contactPopup"),i=a?.querySelector(".popup-close"),s=document.getElementById("copyBtn"),d=document.getElementById("emailText");function r(t){const n=e[t];if(n&&(n.classList.add("active"),document.body.style.overflow="hidden","function"==typeof translateModals&&translateModals(),!o[t])){const e={faq:"particles-faq",impressum:"particles-impressum",privacy:"particles-privacy",terms:"particles-terms"};setTimeout(()=>{initModalParticles(e[t]),o[t]=!0},100)}}function l(e){e&&(e.classList.remove("active"),document.body.style.overflow="auto")}c&&a&&(c.addEventListener("click",e=>{e.stopPropagation(),a.classList.toggle("active")}),i?.addEventListener("click",e=>{e.stopPropagation(),a.classList.remove("active")}),document.addEventListener("click",e=>{a.contains(e.target)||c.contains(e.target)||a.classList.remove("active")}),a.addEventListener("click",e=>{e.stopPropagation()}),s&&d&&s.addEventListener("click",async()=>{try{const e=d.textContent;await navigator.clipboard.writeText(e);const t=s.querySelector(".copy-icon"),n=s.querySelector(".copy-text");s.classList.add("copied"),t&&(t.textContent="âœ“"),n&&(n.textContent="Copied!"),setTimeout(()=>{s.classList.remove("copied"),t&&(t.textContent="ðŸ“‹"),n&&(n.textContent="Copy")},2e3)}catch(e){console.error("Failed to copy:",e);const t=document.createRange();t.selectNodeContents(d);const n=window.getSelection();n.removeAllRanges(),n.addRange(t)}})),window.openModal=r,Object.keys(t).forEach(e=>{const n=t[e];n&&n.addEventListener("click",t=>{t.preventDefault(),r(e)})}),Object.keys(n).forEach(e=>{const t=n[e];t&&t.addEventListener("click",t=>{t.preventDefault(),r(e)})}),Object.values(e).forEach(e=>{if(e){const t=e.querySelector(".modal-close");t&&t.addEventListener("click",()=>l(e)),e.addEventListener("click",t=>{t.target===e&&l(e)})}}),document.addEventListener("keydown",t=>{"Escape"===t.key&&Object.values(e).forEach(e=>{e&&e.classList.contains("active")&&l(e)})})});