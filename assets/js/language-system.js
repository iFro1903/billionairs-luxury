class LanguageSystem{constructor(){this.currentLang="en",this.cookieName="billionairs_lang",this.cookieExpiry=365,this.languages={en:"English",de:"Deutsch",fr:"Français",es:"Español",zh:"中文",ar:"العربية",it:"Italiano",ru:"Русский",ja:"日本語"},this.rtlLangs=["ar"]}init(){const t=this.getCookie(this.cookieName);this.currentLang=t&&this.languages[t]?t:"en","loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>this.setup()):this.setup()}setup(){const t=document.getElementById("langBtn");if(!t)return void console.warn("⚠️ Language button not found");t.textContent=this.currentLang.toUpperCase();let e=document.getElementById("langDropdown");e||(e=this.createDropdown(),t.parentElement.appendChild(e)),t.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation(),e.classList.toggle("show")}),document.addEventListener("click",n=>{t.contains(n.target)||e.contains(n.target)||e.classList.remove("show")}),e.querySelectorAll("[data-lang]").forEach(t=>{t.addEventListener("click",n=>{n.preventDefault();const a=t.getAttribute("data-lang");this.switchLanguage(a),e.classList.remove("show")})})}createDropdown(){const t=document.createElement("div");t.id="langDropdown",t.className="lang-dropdown";let e="";for(const[t,n]of Object.entries(this.languages))e+=`<a href="#" data-lang="${t}" class="lang-option">${n}</a>`;return t.innerHTML=e,t}async switchLanguage(t){if(!this.languages[t])return void console.error("❌ Invalid language:",t);this.currentLang=t,this.setCookie(this.cookieName,t,this.cookieExpiry),document.documentElement.lang=t,document.documentElement.dir=this.rtlLangs.includes(t)?"rtl":"ltr";const e=document.getElementById("langBtn");e&&(e.textContent=t.toUpperCase()),window.i18n&&"function"==typeof window.i18n.switchLanguage&&await window.i18n.switchLanguage(t)}getCookie(t){const e=`; ${document.cookie}`.split(`; ${t}=`);return 2===e.length?e.pop().split(";").shift():null}setCookie(t,e,n){const a=new Date(Date.now()+864e5*n).toUTCString();document.cookie=`${t}=${e}; expires=${a}; path=/; SameSite=Lax`}}const languageSystem=new LanguageSystem;languageSystem.init(),window.languageSystem=languageSystem;