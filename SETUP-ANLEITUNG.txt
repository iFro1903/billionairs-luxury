═══════════════════════════════════════════════════════════════════════════════
  SETUP ANLEITUNG - Database Backup & Performance
═══════════════════════════════════════════════════════════════════════════════

📋 SCHRITT 1: NEON SQL AUSFÜHREN
───────────────────────────────────────────────────────────────────────────────

1. Öffne: https://console.neon.tech
2. Wähle dein Projekt: billionairs-db
3. Klicke auf "SQL Editor"
4. Kopiere den Code unten und füge ihn ein
5. Klicke "Run" (oder Ctrl+Enter)

───────────────────────────────────────────────────────────────────────────────
SQL CODE ZUM KOPIEREN:
───────────────────────────────────────────────────────────────────────────────

-- BACKUP LOGS TABELLE
CREATE TABLE IF NOT EXISTS backup_logs (
    id SERIAL PRIMARY KEY,
    backup_type VARCHAR(50) NOT NULL,
    status VARCHAR(20) NOT NULL,
    users_count INTEGER,
    payments_count INTEGER,
    chat_count INTEGER,
    audit_count INTEGER,
    error_message TEXT,
    created_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX IF NOT EXISTS idx_backup_logs_created ON backup_logs(created_at DESC);
CREATE INDEX IF NOT EXISTS idx_backup_logs_status ON backup_logs(status);

INSERT INTO backup_logs (backup_type, status, created_at)
VALUES ('manual_table_creation', 'completed', NOW());

-- PERFORMANCE INDEXES
CREATE INDEX IF NOT EXISTS idx_users_email ON users(email);
CREATE INDEX IF NOT EXISTS idx_users_payment_status ON users(payment_status);
CREATE INDEX IF NOT EXISTS idx_chat_created ON chat_messages(created_at DESC);
CREATE INDEX IF NOT EXISTS idx_chat_email ON chat_messages(email);
CREATE INDEX IF NOT EXISTS idx_audit_action ON audit_logs(action);
CREATE INDEX IF NOT EXISTS idx_audit_timestamp ON audit_logs(timestamp DESC);
CREATE INDEX IF NOT EXISTS idx_rate_limits_ip_endpoint ON rate_limits(ip, endpoint);
CREATE INDEX IF NOT EXISTS idx_blocked_ips_active ON blocked_ips(is_active) WHERE is_active = true;

SELECT '✅ Database Setup Complete!' as message;

───────────────────────────────────────────────────────────────────────────────

✅ Wenn du "Database Setup Complete!" siehst → FERTIG!

═══════════════════════════════════════════════════════════════════════════════

📋 SCHRITT 2: VERCEL ENVIRONMENT VARIABLE
───────────────────────────────────────────────────────────────────────────────

1. Öffne: https://vercel.com/ifro1903/billionairs-luxury/settings/environment-variables
2. Klicke "Add New"
3. Fülle folgende Felder aus:

   Name:  CRON_SECRET
   
   Value: d8e6e245-aa06-49fa-aa62-110e56e06a40
   
   Environments: ✅ Production  ✅ Preview  ✅ Development

4. Klicke "Save"
5. Gehe zu "Deployments" Tab
6. Klicke beim letzten Deployment auf "..." → "Redeploy"

───────────────────────────────────────────────────────────────────────────────

✅ Nach dem Redeploy → FERTIG!

═══════════════════════════════════════════════════════════════════════════════

🎯 ZUSAMMENFASSUNG
───────────────────────────────────────────────────────────────────────────────
☑ Neon SQL ausgeführt (2 Minuten)
☑ Vercel Variable hinzugefügt (2 Minuten)
☑ Redeploy ausgelöst (1 Minute)

TOTAL: ~5 Minuten

═══════════════════════════════════════════════════════════════════════════════

Danach können wir mit den restlichen Verbesserungen weitermachen! 🚀
